
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
	    
	    <title>Alışveriş Sepeti Sınıfı &mdash; CodeIgniter 3.0-dev documentation</title>

	    <link rel="stylesheet" href="../_static/asset/css/common.css" type="text/css" />
	    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
	    <script type="text/javascript">
	      var DOCUMENTATION_OPTIONS = {
	        URL_ROOT:    '../',
	        VERSION:     '3.0-dev',
	        COLLAPSE_INDEX: false,
	        FILE_SUFFIX: '.html',
	        HAS_SOURCE:  true
	      };
	    </script>
	    <script type="text/javascript" src="../_static/jquery.js"></script>
	    <script type="text/javascript" src="../_static/underscore.js"></script>
	    <script type="text/javascript" src="../_static/doctools.js"></script>
	    <script type="text/javascript" src="../_static/translations.js"></script>
	    <link rel="top" title="CodeIgniter 3.0-dev documentation" href="../index.html" />
	    <link rel="up" title="Libraries" href="index.html" />
	    <link rel="next" title="Config Class" href="config.html" />
	    <link rel="prev" title="Calendaring Class" href="calendar.html" /> 
	</head>
	<body>
		<div id="table-contents">
			<div class="toctree-wrapper compound">
			<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">Open Software License (&#8220;OSL&#8221;) v 3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">CodeIgniter Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/requirements.html">Server Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">Installation Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/index.html">General Topics</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Libraries</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="benchmark.html">Karşılaştırma (Benchmarking) Sınıfı</a></li>
<li class="toctree-l2"><a class="reference internal" href="caching.html">Caching Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="calendar.html">Calendaring Class</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Alışveriş Sepeti Sınıfı</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="config.html">Config Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="email.html">Email Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="encryption.html">Encryption Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="file_uploading.html">File Uploading Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="form_validation.html">Form Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="ftp.html">FTP Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="image_lib.html">Image Manipulation Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="input.html">Input Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="javascript.html">Javascript Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="language.html">Language Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="loader.html">Loader Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="output.html">Output Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="pagination.html">Pagination Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="parser.html">Template Parser Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html">Security Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="sessions.html">Session Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="table.html">HTML Tablo Sınıfı</a></li>
<li class="toctree-l2"><a class="reference internal" href="trackback.html">Trackback Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="typography.html">Typography Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="unit_testing.html">Unit Testing Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="uri.html">URI Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_agent.html">User Agent Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="xmlrpc.html">XML-RPC and XML-RPC Server Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="zip.html">Zip Encoding Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../helpers/index.html">Helpers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../database/index.html">Veri Tabanı Sınıfı</a></li>
<li class="toctree-l1"><a class="reference internal" href="../documentation/index.html">CodeIgniter Belgesi Yazma</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/quick_reference.html">Quick Reference Chart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/credits.html">Credits</a></li>
</ul>

			</div>
		</div>

		<div id="brand" class="ci">
			<a href="http://codeigniter.com/"><img src="../_static/asset/img/ci-logo.gif" alt="CodeIgniter"></a>
			<p>3.0-dev Kullanım Kılavuzu</p>
		    <p><a href="../_sources/libraries/cart.txt"
			           rel="nofollow">Kaynağı Göster</a></p>
		</div><!-- /#brand -->

		<div id="header">
			<form method="get" action="http://www.google.com/search">
				<fieldset>
					<input type="text" name="q" id="q" value="">
					<input type="hidden" name="as_sitesearch" id="as_sitesearch" value="codeigniter.com/user_guide/" />
					<input class="grades" type="submit" value="ara">
				</fieldset>
			</form>
			<ul>
				<li><a href="../index.html">Anasayfa</a>&nbsp;&nbsp; &rsaquo;</li>
				<li><a id="toc-link" href="../index.html">İçindekiler</a>&nbsp;&nbsp; &rsaquo;</li>
				<li><a href="index.html" accesskey="U">Libraries</a>&nbsp;&nbsp;  &rsaquo;</li>

				<li><strong>Alışveriş Sepeti Sınıfı</strong></li>
			</ul>
		</div><!-- /#header -->

		<div class="section" id="content">
			<div class="section" id="alisveris-sepeti-sinifi">
<h1><a class="toc-backref" href="#id1">Alışveriş Sepeti Sınıfı</a><a class="headerlink" href="#alisveris-sepeti-sinifi" title="Bu başlığın kalıcı bağlantısı">¶</a></h1>
<p>Bu sınıf kullanıcılar siteyi ziyaret ederken ürünlerin eklenebileceği, &#8220;session&#8221;da saklanan bir alışveriş sepeti oluşturmamız için bize yardım eder. Alışveriş sepetindeki ürünlerin silinmesi, miktarının değiştirlmesi veya yeni ürün eklenmesi gibi işlemlere olanak sağlar.</p>
<p>Sınıf standart alışveriş sepeti fonksiyonlarını yerine getirir, kredi kartı ödemesi gibi ödeme fonksiyonlarını barındırmaz.</p>
<div class="contents topic" id="page-contents">
<p class="topic-title first">Page Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#alisveris-sepeti-sinifi" id="id1">Alışveriş Sepeti Sınıfı</a><ul>
<li><a class="reference internal" href="#alisveris-sepeti-sinifinin-hazilanmasi" id="id2">Alışveriş Sepeti Sınıfının hazılanması</a></li>
<li><a class="reference internal" href="#alisveris-sepetine-urun-eklenmesi" id="id3">Alışveriş sepetine ürün eklenmesi</a></li>
<li><a class="reference internal" href="#coklu-urun-girisi" id="id4">Çoklu ürün girişi</a></li>
<li><a class="reference internal" href="#sepetin-gosterilmesi" id="id5">Sepetin gösterilmesi</a></li>
<li><a class="reference internal" href="#sepeti-guncellemek" id="id6">Sepeti güncellemek</a><ul>
<li><a class="reference internal" href="#row-id-nedir" id="id7">Row ID nedir?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#fonksiyon-referanslari" id="id8">Fonksiyon Referansları</a><ul>
<li><a class="reference internal" href="#this-cart-insert" id="id9">$this-&gt;cart-&gt;insert();</a></li>
<li><a class="reference internal" href="#this-cart-update" id="id10">$this-&gt;cart-&gt;update();</a></li>
<li><a class="reference internal" href="#this-cart-total" id="id11">$this-&gt;cart-&gt;total();</a></li>
<li><a class="reference internal" href="#this-cart-total-items" id="id12">$this-&gt;cart-&gt;total_items();</a></li>
<li><a class="reference internal" href="#this-cart-contents" id="id13">$this-&gt;cart-&gt;contents();</a></li>
<li><a class="reference internal" href="#this-cart-has-options-rowid" id="id14">$this-&gt;cart-&gt;has_options(rowid);</a></li>
<li><a class="reference internal" href="#this-cart-product-options-rowid" id="id15">$this-&gt;cart-&gt;product_options(rowid);</a></li>
<li><a class="reference internal" href="#this-cart-destroy" id="id16">$this-&gt;cart-&gt;destroy();</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="alisveris-sepeti-sinifinin-hazilanmasi">
<h2><a class="toc-backref" href="#id2">Alışveriş Sepeti Sınıfının hazılanması</a><a class="headerlink" href="#alisveris-sepeti-sinifinin-hazilanmasi" title="Bu başlığın kalıcı bağlantısı">¶</a></h2>
<div class="important admonition">
<p class="first admonition-title">Önemli</p>
<p class="last">Alışveriş sepeti sınıfı sepet bilgilerini veritabanına saklamak için CodeIgniter&#8217;in <a class="reference internal" href="sessions.html"><em>Session Sınıfını</em></a> kullanır, bu yüzden alışveriş sepeti sınıfını kullanmadan önce <a class="reference internal" href="sessions.html"><em>Session Dokümantasyonunda</em></a> anlatılan veritabanlarını ayarlayıp appliction/config/config.php dosyasındaki session özellikleri kısmını düzenlemeniz gerekmektedir.</p>
</div>
<p>Sınıfı hazılamak için $this-&gt;load-&gt;library fonksiyonu ile yüklenmesi gerekmektedir</p>
<div class="highlight-ci"><div class="highlight"><pre><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">library</span><span class="p">(</span><span class="s1">&#39;cart&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Yüklendikten sonra Cart nesnesi $this-&gt;cart altında kullanılabilir olacaktır:</p>
<div class="highlight-ci"><div class="highlight"><pre><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cart</span>
</pre></div>
</div>
<div class="note admonition">
<p class="first admonition-title">Not</p>
<p class="last">Alışveriş sepeti sınıfı otomatik olarak Session sınıfını belleğeye yükleyeceği için, uygulamanızın herhangi bir yerinde session sınıfını elle yüklemeden kullanabilirsiniz.</p>
</div>
</div>
<div class="section" id="alisveris-sepetine-urun-eklenmesi">
<h2><a class="toc-backref" href="#id3">Alışveriş sepetine ürün eklenmesi</a><a class="headerlink" href="#alisveris-sepetine-urun-eklenmesi" title="Bu başlığın kalıcı bağlantısı">¶</a></h2>
<p>Alışveriş sepetine ürün eklemek için basitce aşşağıda görünen tipte bir array $this-&gt;cart-&gt;insert() fonksiyonuna parametre olarak gönderilir. Örnek</p>
<div class="highlight-ci"><div class="highlight"><pre><span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
               <span class="s1">&#39;id&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;sku_123ABC&#39;</span><span class="p">,</span>
               <span class="s1">&#39;qty&#39;</span>     <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
               <span class="s1">&#39;price&#39;</span>   <span class="o">=&gt;</span> <span class="mf">39.95</span><span class="p">,</span>
               <span class="s1">&#39;name&#39;</span>    <span class="o">=&gt;</span> <span class="s1">&#39;T-Shirt&#39;</span><span class="p">,</span>
               <span class="s1">&#39;options&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Size&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;Color&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Red&#39;</span><span class="p">)</span>
            <span class="p">);</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cart</span><span class="o">-&gt;</span><span class="na">insert</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>
</pre></div>
</div>
<div class="important admonition">
<p class="first admonition-title">Önemli</p>
<p class="last">İlk dört anahtar (id, qty, price, ve name) <strong>zorunlu</strong> anahtarlardır, eğer bu 4 anahtardan biri hatalı ise ürün sepete eklenmeyecektir. Beşinci anahtar (options) isteğe bağlı olarak kullanılabilir, ürüne ait ekstra bilgiler bu alanda saklanabilir.</p>
</div>
<p>Anahtarlar ve açıklamaları:</p>
<ul class="simple">
<li><strong>id</strong> - Ürünün tekil tanımlayıcısı. Her ürün için tekil olan kod, bir çok kişi bunu stok kodu olarak kullanmaktadır.
Tipik oalrak &#8220;sku&#8221; ya da bunun gibi başka bir tanımlayıcı.</li>
<li><strong>qty</strong> - Ödenecek ürün miktarı. (Miktar).</li>
<li><strong>price</strong> - Ürünün fiyatı.</li>
<li><strong>name</strong> -  Ürün adı.</li>
<li><strong>options</strong> - Herhangi ekstra bilgi, dizi (array) olarak eklenmelidir.</li>
</ul>
<p>Ek olarak 2 adet rezerve kelime mevcuttur, bunlar : rowid ve subtotal kelimeleridir. Alışveriş sepeti sınıfı içinde kullanıldığı için sepete ürün eklenirken bu kelimeleri anahtar tanımlayıcısı olarak kullanmamaya özen gösterin.</p>
<p>Sepet sınıfına parametre olarak gönderilen dizi başka verilerde içerebilir, bu veriler session&#8217;da saklanacaktır. BUnunla birlikte, ürün bilgilerini ekranda tablolama ile gösterimin en kolay yolu, listelenecek ürün bilgilerinin tamamının tutulmasıdır.</p>
<p>Eğer bir ürün sepete eklenirse, insert() metodu $rowid değerini geri döndürecektir.</p>
</div>
<div class="section" id="coklu-urun-girisi">
<h2><a class="toc-backref" href="#id4">Çoklu ürün girişi</a><a class="headerlink" href="#coklu-urun-girisi" title="Bu başlığın kalıcı bağlantısı">¶</a></h2>
<p>Bir seferde birden falza ürünü sepete ekleyebilirsiniz, bunun için çok boyutlu bir array&#8217;ın aşşağıdaki örnekte olduğu gibi tanımlanması gerekmetedir. Bu yöntem kullanıcının tek sayfada çoklu ürün seçimi yaptığı ve sepete eklediği anlarda kullanışlı olacaktır.</p>
<div class="highlight-ci"><div class="highlight"><pre><span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
               <span class="k">array</span><span class="p">(</span>
                       <span class="s1">&#39;id&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;sku_123ABC&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;qty&#39;</span>     <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
                       <span class="s1">&#39;price&#39;</span>   <span class="o">=&gt;</span> <span class="mf">39.95</span><span class="p">,</span>
                       <span class="s1">&#39;name&#39;</span>    <span class="o">=&gt;</span> <span class="s1">&#39;T-Shirt&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;options&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Size&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;Color&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Red&#39;</span><span class="p">)</span>
                    <span class="p">),</span>
               <span class="k">array</span><span class="p">(</span>
                       <span class="s1">&#39;id&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;sku_567ZYX&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;qty&#39;</span>     <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
                       <span class="s1">&#39;price&#39;</span>   <span class="o">=&gt;</span> <span class="mf">9.95</span><span class="p">,</span>
                       <span class="s1">&#39;name&#39;</span>    <span class="o">=&gt;</span> <span class="s1">&#39;Coffee Mug&#39;</span>
                    <span class="p">),</span>
               <span class="k">array</span><span class="p">(</span>
                       <span class="s1">&#39;id&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;sku_965QRS&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;qty&#39;</span>     <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
                       <span class="s1">&#39;price&#39;</span>   <span class="o">=&gt;</span> <span class="mf">29.95</span><span class="p">,</span>
                       <span class="s1">&#39;name&#39;</span>    <span class="o">=&gt;</span> <span class="s1">&#39;Shot Glass&#39;</span>
                    <span class="p">)</span>
            <span class="p">);</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cart</span><span class="o">-&gt;</span><span class="na">insert</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="sepetin-gosterilmesi">
<h2><a class="toc-backref" href="#id5">Sepetin gösterilmesi</a><a class="headerlink" href="#sepetin-gosterilmesi" title="Bu başlığın kalıcı bağlantısı">¶</a></h2>
<p>Ürün gösterimi için aşşağıdaki örneğe benzer bir <a class="reference internal" href="../general/views.html"><em>view dosyası</em></a> oluşturmamız gerekmedir.</p>
<p>Bu örneğin <a class="reference internal" href="../helpers/form_helper.html"><em>form helper</em></a> kullandığını unutmayın.</p>
<div class="highlight-ci"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nx">form_open</span><span class="p">(</span><span class="s1">&#39;path/to/controller/update/function&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span>

<span class="nt">&lt;table</span> <span class="na">cellpadding=</span><span class="s">&quot;6&quot;</span> <span class="na">cellspacing=</span><span class="s">&quot;1&quot;</span> <span class="na">style=</span><span class="s">&quot;width:100%&quot;</span> <span class="na">border=</span><span class="s">&quot;0&quot;</span><span class="nt">&gt;</span>

<span class="nt">&lt;tr&gt;</span>
  <span class="nt">&lt;th&gt;</span>QTY<span class="nt">&lt;/th&gt;</span>
  <span class="nt">&lt;th&gt;</span>Item Description<span class="nt">&lt;/th&gt;</span>
  <span class="nt">&lt;th</span> <span class="na">style=</span><span class="s">&quot;text-align:right&quot;</span><span class="nt">&gt;</span>Item Price<span class="nt">&lt;/th&gt;</span>
  <span class="nt">&lt;th</span> <span class="na">style=</span><span class="s">&quot;text-align:right&quot;</span><span class="nt">&gt;</span>Sub-Total<span class="nt">&lt;/th&gt;</span>
<span class="nt">&lt;/tr&gt;</span>

<span class="cp">&lt;?php</span> <span class="nv">$i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="cp">?&gt;</span>

<span class="cp">&lt;?php</span> <span class="k">foreach</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cart</span><span class="o">-&gt;</span><span class="na">contents</span><span class="p">()</span> <span class="k">as</span> <span class="nv">$items</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span>

        <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nx">form_hidden</span><span class="p">(</span><span class="nv">$i</span><span class="o">.</span><span class="s1">&#39;[rowid]&#39;</span><span class="p">,</span> <span class="nv">$items</span><span class="p">[</span><span class="s1">&#39;rowid&#39;</span><span class="p">]);</span> <span class="cp">?&gt;</span>

        <span class="nt">&lt;tr&gt;</span>
          <span class="nt">&lt;td&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nx">form_input</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="nv">$i</span><span class="o">.</span><span class="s1">&#39;[qty]&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span> <span class="o">=&gt;</span> <span class="nv">$items</span><span class="p">[</span><span class="s1">&#39;qty&#39;</span><span class="p">],</span> <span class="s1">&#39;maxlength&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;5&#39;</span><span class="p">));</span> <span class="cp">?&gt;</span><span class="nt">&lt;/td&gt;</span>
          <span class="nt">&lt;td&gt;</span>
                <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$items</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">];</span> <span class="cp">?&gt;</span>

                        <span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cart</span><span class="o">-&gt;</span><span class="na">has_options</span><span class="p">(</span><span class="nv">$items</span><span class="p">[</span><span class="s1">&#39;rowid&#39;</span><span class="p">])</span> <span class="o">==</span> <span class="k">TRUE</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span>

                                <span class="nt">&lt;p&gt;</span>
                                        <span class="cp">&lt;?php</span> <span class="k">foreach</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cart</span><span class="o">-&gt;</span><span class="na">product_options</span><span class="p">(</span><span class="nv">$items</span><span class="p">[</span><span class="s1">&#39;rowid&#39;</span><span class="p">])</span> <span class="k">as</span> <span class="nv">$option_name</span> <span class="o">=&gt;</span> <span class="nv">$option_value</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span>

                                                <span class="nt">&lt;strong&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$option_name</span><span class="p">;</span> <span class="cp">?&gt;</span>:<span class="nt">&lt;/strong&gt;</span> <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$option_value</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="nt">&lt;br</span> <span class="nt">/&gt;</span>

                                        <span class="cp">&lt;?php</span> <span class="k">endforeach</span><span class="p">;</span> <span class="cp">?&gt;</span>
                                <span class="nt">&lt;/p&gt;</span>

                        <span class="cp">&lt;?php</span> <span class="k">endif</span><span class="p">;</span> <span class="cp">?&gt;</span>

          <span class="nt">&lt;/td&gt;</span>
          <span class="nt">&lt;td</span> <span class="na">style=</span><span class="s">&quot;text-align:right&quot;</span><span class="nt">&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cart</span><span class="o">-&gt;</span><span class="na">format_number</span><span class="p">(</span><span class="nv">$items</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]);</span> <span class="cp">?&gt;</span><span class="nt">&lt;/td&gt;</span>
          <span class="nt">&lt;td</span> <span class="na">style=</span><span class="s">&quot;text-align:right&quot;</span><span class="nt">&gt;</span>$<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cart</span><span class="o">-&gt;</span><span class="na">format_number</span><span class="p">(</span><span class="nv">$items</span><span class="p">[</span><span class="s1">&#39;subtotal&#39;</span><span class="p">]);</span> <span class="cp">?&gt;</span><span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;/tr&gt;</span>

<span class="cp">&lt;?php</span> <span class="nv">$i</span><span class="o">++</span><span class="p">;</span> <span class="cp">?&gt;</span>

<span class="cp">&lt;?php</span> <span class="k">endforeach</span><span class="p">;</span> <span class="cp">?&gt;</span>

<span class="nt">&lt;tr&gt;</span>
  <span class="nt">&lt;td</span> <span class="na">colspan=</span><span class="s">&quot;2&quot;</span><span class="nt">&gt;</span> <span class="nt">&lt;/td&gt;</span>
  <span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;right&quot;</span><span class="nt">&gt;&lt;strong&gt;</span>Total<span class="nt">&lt;/strong&gt;&lt;/td&gt;</span>
  <span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;right&quot;</span><span class="nt">&gt;</span>$<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cart</span><span class="o">-&gt;</span><span class="na">format_number</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cart</span><span class="o">-&gt;</span><span class="na">total</span><span class="p">());</span> <span class="cp">?&gt;</span><span class="nt">&lt;/td&gt;</span>
<span class="nt">&lt;/tr&gt;</span>

<span class="nt">&lt;/table&gt;</span>

<span class="nt">&lt;p&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nx">form_submit</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;Update your Cart&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="nt">&lt;/p&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="sepeti-guncellemek">
<h2><a class="toc-backref" href="#id6">Sepeti güncellemek</a><a class="headerlink" href="#sepeti-guncellemek" title="Bu başlığın kalıcı bağlantısı">¶</a></h2>
<p>Sepeti güncellemek için $this-&gt;cart-&gt;update() fonksiyonuna Row ID ve quantity anahtarlarını içeren bir array parametre olarak gönderilmelidir.</p>
<div class="note admonition">
<p class="first admonition-title">Not</p>
<p class="last">quantity anahtarı ürünün miktarını tanımlar ve sıfır olarak ayarlanırsa ürün septten kaldırılır.</p>
</div>
<div class="highlight-ci"><div class="highlight"><pre><span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
               <span class="s1">&#39;rowid&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;b99ccdf16028f015540f341130b6d8ec&#39;</span><span class="p">,</span>
               <span class="s1">&#39;qty&#39;</span>   <span class="o">=&gt;</span> <span class="mi">3</span>
            <span class="p">);</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cart</span><span class="o">-&gt;</span><span class="na">update</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

<span class="c1">// Or a multi-dimensional array</span>

<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
               <span class="k">array</span><span class="p">(</span>
                       <span class="s1">&#39;rowid&#39;</span>   <span class="o">=&gt;</span> <span class="s1">&#39;b99ccdf16028f015540f341130b6d8ec&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;qty&#39;</span>     <span class="o">=&gt;</span> <span class="mi">3</span>
                    <span class="p">),</span>
               <span class="k">array</span><span class="p">(</span>
                       <span class="s1">&#39;rowid&#39;</span>   <span class="o">=&gt;</span> <span class="s1">&#39;xw82g9q3r495893iajdh473990rikw23&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;qty&#39;</span>     <span class="o">=&gt;</span> <span class="mi">4</span>
                    <span class="p">),</span>
               <span class="k">array</span><span class="p">(</span>
                       <span class="s1">&#39;rowid&#39;</span>   <span class="o">=&gt;</span> <span class="s1">&#39;fh4kdkkkaoe30njgoe92rkdkkobec333&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;qty&#39;</span>     <span class="o">=&gt;</span> <span class="mi">2</span>
                    <span class="p">)</span>
            <span class="p">);</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cart</span><span class="o">-&gt;</span><span class="na">update</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>
</pre></div>
</div>
<div class="section" id="row-id-nedir">
<h3><a class="toc-backref" href="#id7">Row ID nedir?</a><a class="headerlink" href="#row-id-nedir" title="Bu başlığın kalıcı bağlantısı">¶</a></h3>
<p>Sepet sınıfı her eklenen ürün için tekil bir tanımlayıcı tayin eder, row ID bu tanımayıcıya verilen isimdir. Row id yardımı ile sepet içindeki ürünler tek tek düzenlenebilir.</p>
<p>Örnekle açıklamak gerekirse : Bir müşterimiz 2 adet tişört satın aldı, Ürün kodu aynı fakat bedenleri farklı. Ürün kodu fiyat, adet bilgileri aynı olduğu halde ürünlerin bedenleri farklı. Bizim iki ürünüde birbirinden bağımsız olarak yönetebilmemiz gerekiyor, CodeIgniter bunu sepetteki her farklı ürün için tekil rowid tanımlayarak mümkün kılıyor, rowid üretilirken ürün kod ve options parametresindeki değerleri kullanılıyor.</p>
<p>Nerdeyse bütün işlemlerin sepet gösterimi sayfasında yapılacağını düşünürsek, rowid değerini bolca kullanacağımızı görebiliriz. Sepet üzerinde değişiklik yapabilmemiz için sepeti gösterirken rowid değerini gizli eleman (hidden field) olarak forma dahil etmemiz gerekecektir. Sepeti güncellerken de rowid değişkenini update fonksiyonuna gönderdiğimizden emin olmamız gerekmektedir. Daha fazla bilgi için sepetin gösterilmesi bölümüne göz atınız.</p>
</div>
</div>
<div class="section" id="fonksiyon-referanslari">
<h2><a class="toc-backref" href="#id8">Fonksiyon Referansları</a><a class="headerlink" href="#fonksiyon-referanslari" title="Bu başlığın kalıcı bağlantısı">¶</a></h2>
<div class="section" id="this-cart-insert">
<h3><a class="toc-backref" href="#id9">$this-&gt;cart-&gt;insert();</a><a class="headerlink" href="#this-cart-insert" title="Bu başlığın kalıcı bağlantısı">¶</a></h3>
<p>Sepete yeni bir ürün eklemenizi sağlar.</p>
</div>
<div class="section" id="this-cart-update">
<h3><a class="toc-backref" href="#id10">$this-&gt;cart-&gt;update();</a><a class="headerlink" href="#this-cart-update" title="Bu başlığın kalıcı bağlantısı">¶</a></h3>
<p>Sepetteki ürün veya ürünleri güncellemenizi sağlar.</p>
</div>
<div class="section" id="this-cart-total">
<h3><a class="toc-backref" href="#id11">$this-&gt;cart-&gt;total();</a><a class="headerlink" href="#this-cart-total" title="Bu başlığın kalıcı bağlantısı">¶</a></h3>
<p>Sepetin toplam tutarını, yani alt toplamını verir.</p>
</div>
<div class="section" id="this-cart-total-items">
<h3><a class="toc-backref" href="#id12">$this-&gt;cart-&gt;total_items();</a><a class="headerlink" href="#this-cart-total-items" title="Bu başlığın kalıcı bağlantısı">¶</a></h3>
<p>Sepetteki toplam ürün adetini verir.</p>
</div>
<div class="section" id="this-cart-contents">
<h3><a class="toc-backref" href="#id13">$this-&gt;cart-&gt;contents();</a><a class="headerlink" href="#this-cart-contents" title="Bu başlığın kalıcı bağlantısı">¶</a></h3>
<p>Sepetteki herşeyi içerin bir array geri döndürür.</p>
</div>
<div class="section" id="this-cart-has-options-rowid">
<h3><a class="toc-backref" href="#id14">$this-&gt;cart-&gt;has_options(rowid);</a><a class="headerlink" href="#this-cart-has-options-rowid" title="Bu başlığın kalıcı bağlantısı">¶</a></h3>
<p>Eğer ürünün options değişkeni bir değer içeriyorsa TRUE döndürür. Bu fonksyion $this-&gt;cart-&gt;contents() ile kullanılan döngüler içinde kullanılmak üzere tasarlanmıştır, bu yüzden rowid değerini “Sepetin gösterilmesi” başlığı altındaki gibi kullanmalısınız.</p>
</div>
<div class="section" id="this-cart-product-options-rowid">
<h3><a class="toc-backref" href="#id15">$this-&gt;cart-&gt;product_options(rowid);</a><a class="headerlink" href="#this-cart-product-options-rowid" title="Bu başlığın kalıcı bağlantısı">¶</a></h3>
<p>Seçilen ürüne özel opstions dizisini geri döndürür. Bu fonksiyon yukarıda örneği verildiği gibi, rowid değeri belirlendiğinde, $this-&gt;cart-&gt;contents() fonksiyonu kullanılarak döngü içinde tasarlanır.</p>
</div>
<div class="section" id="this-cart-destroy">
<h3><a class="toc-backref" href="#id16">$this-&gt;cart-&gt;destroy();</a><a class="headerlink" href="#this-cart-destroy" title="Bu başlığın kalıcı bağlantısı">¶</a></h3>
<p>Sepeti yok etmek için kullanılır. Müşteri ödemeyi gerçekleştirdikten sonra kullanmak isteyebilirsiniz.</p>
</div>
</div>
</div>

		</div>

		<!-- {user_guide_comments} -->
					
		<div id="footer">
			<p class="top">
				
				<span class="prev">Önceki Başlık: <a href="calendar.html">Calendaring Class</a></span>
				
				
				<span class="next">Sonraki Başlık: <a href="config.html">Config Class</a></span>
				
				<a href="#header" title="Başa Dön">Başa Dön</a>
			</p>
			<p><a href="">CodeIgniter</a> &ndash; Copyright &copy;
      2011, EllisLab, Inc.</a> &ndash; Son Güncelleme: 06 Aralık 2011</p>
		</div><!-- /#footer -->
	
	<script src="../_static/asset/js/jquery-ui-min.js" type="text/javascript" charset="utf-8" async></script>
	<script type="text/javascript" charset="utf-8">
		$('#toc-link').click(function(){
			$('#table-contents').animate({ left: '0' },1000);
			return false;
		});
		$('html').click(function(){
			if ($('#table-contents').css("left") == '0px'){
				$('#table-contents').animate({ left: '-520' },1000);
			}
		});
		$('#table-contents').click(function(event){
			event.stopPropagation();
		});
/*		$('*:not(#table-contents,#toc-link)').click(function(){
			if ($('#table-contents').css("left") == '0px'){
				$('#table-contents').animate({ left: '-520' },1000);
			}
		});
/*		$("#toc-link").click(function () {
			$('#table-contents').show("slide", { direction: "left" }, 100);
			event.stopPropagation();
			return false;
		});
		$('*:not(#table-contents,#toc-link)').click(function () {
			if ($('#table-contents').is(":visible")) {
				$('#table-contents').hide("slide", { direction: "left" }, 100);
				event.stopPropagation();	
			}
		}); */
	</script>
	</body>
</html>